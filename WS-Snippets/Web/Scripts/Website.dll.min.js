(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q;$.Define($$,{Website:{AddThis:{Control:$.Class({get_Body:function(){return b.main();}}),main:function(){var R,S,T;R=(S=f.Tags(),(T=$.New(h,{$:0}),S.NewTag("section",T)));R.set_Html("<div class=\"addthis_toolbox addthis_default_style \">\r\n               <a class=\"addthis_button_facebook_like\" fb:like:layout=\"button_count\"></a>\r\n               <a class=\"addthis_button_tweet\"></a>\r\n               <a class=\"addthis_button_pinterest_pinit\"></a>\r\n               <a class=\"addthis_counter addthis_pill_style\"></a>\r\n               </div>\r\n               <script type=\"text/javascript\" src=\"http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50af450141ce9366\"></script>");return R;}},Controls:{Snippet1:{Client:{main:function(){return e.H2(g.ofArray([e.Text("Hello World!")]));}},Control:$.Class({get_Body:function(){return k.main();}})},Snippet2:{Client:{drawLogo:function(U){U.font="60px 'Gill Sans Ultra Bold'";U.fillText("HTML",40,60);U.translate(0,70);m.drawShape(U,"#E34C26",44,255,g.ofArray([[22,5],[267,5],[244,255],[144,283]]));m.drawShape(U,"#F06529",144,262,g.ofArray([[225,239],[244,25],[144,25]]));m.drawShape(U,"#EBEBEB",144,118,g.ofArray([[103,118],[101,87],[144,87],[144,56],[67,56],[75,149],[144,149]]));m.drawShape(U,"#EBEBEB",144,198,g.ofArray([[110,189],[108,164],[77,164],[81,212],[144,230]]));m.drawShape(U,"#FFFFFF",144,118,g.ofArray([[144,149],[182,149],[178,189],[144,198],[144,230],[207,212],[215,118]]));return m.drawShape(U,"#FFFFFF",144,56,g.ofArray([[144,87],[218,87],[221,56]]));},drawShape:function(V,W,X,Y,Z){return(($.Tupled(function(_0){return function(_1){var _5,_6;V.fillStyle=W;V.beginPath();($.Tupled(function(_2){var _3,_4;_3=_2[0];_4=_2[1];return V.moveTo(_3,_4);}))(_0);_5=(_6=$.Tupled(function(_7){var _8,_9;_8=_7[0];_9=_7[1];return V.lineTo(_8,_9);}),function(_){return n.iter(_6,_);});_5(_1);V.closePath();return V.fill();};}))([X,Y]))(Z);},main:function(){var ba,bb,bc,bd,be,bg,bh;ba=(bb=f.Tags(),(bc=g.ofArray([e.Text("The canvas tag isn't supported by your browser.")]),bb.NewTag("canvas",bc)));bd=ba["HtmlProvider@32"];(be=ba.Body,function(bf){return bd.SetStyle(be,bf);})("border: 1px solid;");bg=ba.Body;bg.height=400;bg.width=600;bh=bg.getContext("2d");m.drawLogo(bh);return ba;}},Control:$.Class({get_Body:function(){return m.main();}})},Snippet3:{Client:{main:function(){var bh;bh=o.location;return p.add(e.Table(g.ofArray([e.Attr().Class("table table-bordered table-striped span8")])),g.ofArray([e.TR(g.ofArray([e.TH(g.ofArray([e.Text("Property")])),e.TH(g.ofArray([e.Text("Value")]))])),r.tr("Hash",bh.hash),r.tr("Host",bh.host),r.tr("Hostname",bh.hostname),r.tr("Href",bh.href),r.tr("Pathname",bh.pathname),r.tr("Port",bh.port),r.tr("Protocal",bh.protocol),r.tr("Search",bh.search)]));},tr:function(bi,bj){return e.TR(g.ofArray([e.TD(g.ofArray([e.Text(bi)])),e.TD(g.ofArray([e.Text(bj)]))]));}},Control:$.Class({get_Body:function(){return r.main();}})}},Forkme:{Control:$.Class({get_Body:function(){return s.main();}}),main:function(){var bk;return p.add(e.A(g.ofArray([e.HRef("https://github.com/TahaHachana/WS-Snippets")])),g.ofArray([e.Img(g.ofArray([e.Src("https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"),e.Alt("Fork me on GitHub"),e.Id("forkme"),(bk=e.Attr(),bk.NewAttr("style","z-index: 2000;"))]))]));}},Highlight:{Client:{clearBtn:function(){var bl,bm,bn,bo,bp,bq;bl=(bm=e.Button(g.ofArray([e.Attr().Class("btn btn-large"),(bn=e.Attr(),bn.NewAttr("style","margin-left: 10px;"))])),(bo=e.Text("Clear"),p.add(bm,g.ofArray([bo]))));bp=(bq=function(){return function(){return t("#code-textarea").val("");};},function(bt){return u.Events().OnClick(bq,bt);});bp(bl);return bl;},highlightBtn:function(){var bu,bv,bw,bx,by;bu=(bv=e.Button(g.ofArray([e.Attr().Class("btn btn-primary btn-large")])),(bw=e.Text("Highlight"),p.add(bv,g.ofArray([bw]))));bx=(by=function(bz){return function(){var bB,bC,b3;bB=(bC=function(){var bE,bF,bI,bJ,bK,bL,bM,bN,bP,bQ;bE=bz["HtmlProvider@32"];((bF=bz.Body,function(bG){return function(bH){return bE.SetAttribute(bF,bG,bH);};})("disabled"))("disabled");bI=t("#loader");bI.css("visibility","visible");bJ=t("#html-textarea");bK=t("#html-preview");bJ.val("");bK.html("");bL=(bM=t("#code-textarea").val(),(bN=function(bO){return $$.String(bO);},bN(bM)));bP=v.Async("Website:0",[bL]);bQ=function(bR){var bS,bT,bV,bW,b1;bI.css("visibility","hidden");bS=bR.$==1?(bT=bR.$0,(bJ.val(bT).click(function(){return bJ.select();}),(bK.html(bT),w.Return(null)))):(x("An error occured."),w.Return(null));bV=(bW=function(){var bY,bZ;bY=bz["HtmlProvider@32"];(bZ=bz.Body,function(b0){return bY.RemoveAttribute(bZ,b0);})("disabled");return w.Return(null);},w.Delay(bW));b1=function(){return bV;};return w.Bind(bS,b1);};return w.Bind(bP,bQ);},w.Delay(bC));b3=function(b4){var b5;b5={$:0};return w.Start(b4);};return b3(bB);};},function(b6){return u.Events().OnClick(by,b6);});bx(bu);return bu;},main:function(){return e.Div(g.ofArray([z.highlightBtn(),z.clearBtn()]));}},Control:$.Class({get_Body:function(){return z.main();}})},Index:{Client:{main:function(){var b7,b8,b9,b$,ca,cb,cd,ce,cf,ch,ci,cj,cl,cm,cn,co,ct,cv;b7=(b8=B.Input(""),(b9=function(b_){return C.WithTextLabel("Id",b_);},b9(b8)));b$=(ca=B.Input(""),(cb=function(cc){return C.WithTextLabel("Title",cc);},cb(ca)));cd=(ce=B.TextArea(""),(cf=function(cg){return C.WithTextLabel("Description",cg);},cf(ce)));ch=(ci=B.TextArea(""),(cj=function(ck){return C.WithTextLabel("Code",ck);},cj(ci)));cl=(cm=(cn=D.$(D.$(D.$(D.$((co=function(cp){return function(cq){return function(cr){return function(cs){return[cp,cq,cr,cs];};};};},E.Return(co)),b7),b$),cd),ch),(ct=function(cu){return C.WithSubmitAndResetButtons(cu);},ct(cn))),(cv=function(cw){return C.WithFormContainer(cw);},cv(cm)));return E.Run($.Tupled(function(cx){var cy,cz,cI;cy=(cz=function(){var cB,cC,cD,cE,cF,cG;cB=(cC=cx[0],(cD=cx[1],(cE=cx[2],(cF=cx[3],v.Async("Website:3",[cC,cD,cE,cF])))));cG=function(){x("Document indexed.");return w.Return(null);};return w.Bind(cB,cG);},w.Delay(cz));cI=function(cJ){var cK;cK={$:0};return w.Start(cJ);};return cI(cy);}),cl);}},Control:$.Class({get_Body:function(){return G.main();}})},InsertSnippet:{Client:{main:function(){var cL,cM,cN,cP,cQ,cR,cT,cU,cV,cX,cY,cZ,c1,c2,c3,c4,c9,c$;cL=(cM=B.Input(""),(cN=function(cO){return C.WithTextLabel("Id",cO);},cN(cM)));cP=(cQ=B.Input(""),(cR=function(cS){return C.WithTextLabel("Title",cS);},cR(cQ)));cT=(cU=B.TextArea(""),(cV=function(cW){return C.WithTextLabel("Description",cW);},cV(cU)));cX=(cY=B.Input(""),(cZ=function(c0){return C.WithTextLabel("Tags",c0);},cZ(cY)));c1=(c2=(c3=D.$(D.$(D.$(D.$((c4=function(c5){return function(c6){return function(c7){return function(c8){return[c5,c6,c7,c8];};};};},E.Return(c4)),cL),cP),cT),cX),(c9=function(c_){return C.WithSubmitAndResetButtons(c_);},c9(c3))),(c$=function(da){return C.WithFormContainer(da);},c$(c2)));return E.Run($.Tupled(function(db){var dc,dd,dm;dc=(dd=function(){var df,dg,dh,di,dj,dk;H.Log(db);df=(dg=db[0],(dh=db[1],(di=db[2],(dj=db[3],v.Async("Website:2",[dg,dh,di,dj])))));dk=function(dl){if(dl){x("New snippet inserted successfully.");return w.Return(null);}else{x("The query failed.");return w.Return(null);}};return w.Bind(df,dk);},w.Delay(dd));dm=function(dn){var _do;_do={$:0};return w.Start(dn);};return dm(dc);}),c1);}},Control:$.Class({get_Body:function(){return J.main();}})},Login:{Client:{loginForm:function(dp){var dq,dr,ds,dt,du,dv,dw,dx,dy,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU;dq=e.Input(g.ofArray([(dr=e.Attr(),dr.NewAttr("type","text")),(ds=f.Attr(),ds.NewAttr("autofocus","autofocus")),(dt=f.Attr(),dt.NewAttr("placeholder","username"))]));du=(dv=p.add(e.Button(g.ofArray([(dw=e.Attr(),dw.NewAttr("type","button")),e.Attr().Class("btn"),e.Id("login-btn")])),g.ofArray([e.Text("Submit")])),(dx=(dy=function(){return function(){var dB,dC,dH;dB=(dC=function(){var dE,dF;dE=v.Async("Website:1",[{Name:dq.get_Value(),Password:L.passInput().get_Value()}]);dF=function(dG){if(dG.$==1){o.location.href=dp;return w.Return(null);}else{x("Login failed");return w.Return(null);}};return w.Bind(dE,dF);},w.Delay(dC));dH=function(dI){var dJ;dJ={$:0};return w.Start(dI);};return dH(dB);};},function(dK){return u.Events().OnClick(dy,dK);}),(dx(dv),dv)));return e.Form(g.ofArray([(dL=g.ofArray([(dM=g.ofArray([e.Text("Login")]),(dN=e.Tags(),dN.NewTag("legend",dM))),(dO=g.ofArray([e.Text("Username")]),(dP=e.Tags(),dP.NewTag("label",dO))),dq,(dQ=g.ofArray([e.Text("Password")]),(dR=e.Tags(),dR.NewTag("label",dQ))),L.passInput()]),(dS=e.Tags(),dS.NewTag("fieldset",dL))),(dT=g.ofArray([du]),(dU=e.Tags(),dU.NewTag("fieldset",dT)))]));},passInput:$.Field(function(){var dV,dW,dX,dY,dZ;dV=e.Input(g.ofArray([(dW=e.Attr(),dW.NewAttr("type","text")),(dX=f.Attr(),dX.NewAttr("placeholder","password"))]));dY=(dZ=function(){return function(d1){var d2;d2=d1.KeyCode;if(d2===13){return t("#login-btn").click();}else{return null;}};},function(d3){return u.Events().OnKeyDown(dZ,d3);});dY(dV);return dV;})},Control:$.Class({get_Body:function(){return L.loginForm(this.redirectUrl);}})},Search:{Client:{main:function(){var d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ej,ek,el,em,en;d4=(d5=f.Tags(),(d6=g.ofArray([(d7=e.Attr(),d7.NewAttr("id","suggestions"))]),d5.NewTag("datalist",d6)));d8=(d9=e.Input(g.ofArray([(d_=f.Attr(),d_.NewAttr("list","suggestions")),(d$=e.Attr(),d$.NewAttr("id","query")),(ea=e.Attr(),ea.NewAttr("type","text")),e.Attr().Class("input-xxlarge search-query"),(eb=f.Attr(),eb.NewAttr("autofocus","autofocus")),(ec=e.Attr(),ec.NewAttr("style","font-size: 30px; height: 40px"))])),(ed=(ee=function(ef){return function(){var eh;eh=ef.get_Value();if(eh===""){return null;}else{return N.suggest(ef.get_Value(),d4);}};},function(ei){return u.Events().OnKeyUp(ee,ei);}),(ed(d9),d9)));return p.add(e.Div(g.ofArray([e.Attr().Class("form-search")])),g.ofArray([p.add(e.Div(g.ofArray([e.Attr().Class("input-append")])),g.ofArray([d8,(ej=e.Button(g.ofArray([e.Text("Search"),(ek=e.Attr(),ek.NewAttr("type","button")),e.Attr().Class("btn btn-success"),(el=e.Attr(),el.NewAttr("style","height: 50px; font-size: 20px;"))])),(em=(en=function(){return function(){var eq,er,es,et;eq=(er=(es=d8.get_Value(),O.Trim(es)),(et=function(eu){return P(eu);},et(er)));o.location.href="/search/"+eq+"/1";};},function(ev){return u.Events().OnClick(en,ev);}),(em(ej),ej)))])),d4]));},suggest:function(ew,ex){var ey,eH;ex.set_Html("");ey=t.getJSON("http://vuzupy.api.indexden.com/v1/indexes/WSSnippets/autocomplete?field=description&query="+ew+"&callback=?",$.Tupled(function(ez){var eA,eB,eC,eD,eE;eA=ez[0];eB=ez[1];eC=eA.suggestions;eD=(eE=function(eF){return t("<option/>").text(eF).appendTo(ex.Body);},function(eG){return Q.iter(eE,eG);});return eD(eC);}));eH=function(eI){eI;};return eH(ey);}},Control:$.Class({get_Body:function(){return N.main();}})}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.AddThis);c=$.Safe($$.IntelliFactory.WebSharper);d=$.Safe(c.Html);e=$.Safe(d.Default);f=$.Safe(e.HTML5);g=$.Safe(c.List);h=$.Safe(g.T);i=$.Safe(a.Controls);j=$.Safe(i.Snippet1);k=$.Safe(j.Client);l=$.Safe(i.Snippet2);m=$.Safe(l.Client);n=$.Safe(c.Seq);o=$.Safe($$.window);p=$.Safe(d.Operators);q=$.Safe(i.Snippet3);r=$.Safe(q.Client);s=$.Safe(a.Forkme);t=$.Safe($$.jQuery);u=$.Safe(d.EventsPervasives);v=$.Safe(c.Remoting);w=$.Safe(c.Concurrency);x=$.Safe($$.alert);y=$.Safe(a.Highlight);z=$.Safe(y.Client);A=$.Safe(c.Formlet);B=$.Safe(A.Controls);C=$.Safe(A.Enhance);D=$.Safe(A.Data);E=$.Safe(A.Formlet);F=$.Safe(a.Index);G=$.Safe(F.Client);H=$.Safe(c.JavaScript);I=$.Safe(a.InsertSnippet);J=$.Safe(I.Client);K=$.Safe(a.Login);L=$.Safe(K.Client);M=$.Safe(a.Search);N=$.Safe(M.Client);O=$.Safe(c.Strings);P=$.Safe($$.encodeURIComponent);return Q=$.Safe(c.Arrays);});$.OnLoad(function(){L.passInput();});}());
