(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;$.Define($$,{Website:{AddThis:{Control:$.Class({get_Body:function(){return b.main();}}),main:function(){var M,N,O;M=(N=f.Tags(),(O=$.New(h,{$:0}),N.NewTag("section",O)));M.set_Html("<div class=\"addthis_toolbox addthis_default_style \">\r\n               <a class=\"addthis_button_facebook_like\" fb:like:layout=\"button_count\"></a>\r\n               <a class=\"addthis_button_tweet\"></a>\r\n               <a class=\"addthis_button_pinterest_pinit\"></a>\r\n               <a class=\"addthis_counter addthis_pill_style\"></a>\r\n               </div>\r\n               <script type=\"text/javascript\" src=\"http://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-50af450141ce9366\"></script>");return M;}},Controls:{Snippet1:{Client:{main:function(){return e.H2(g.ofArray([e.Text("Hello World!")]));}},Control:$.Class({get_Body:function(){return k.main();}})}},Forkme:{Control:$.Class({get_Body:function(){return l.main();}}),main:function(){var P;return m.add(e.A(g.ofArray([e.HRef("https://github.com/TahaHachana/WS-Snippets")])),g.ofArray([e.Img(g.ofArray([e.Src("https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"),e.Alt("Fork me on GitHub"),e.Id("forkme"),(P=e.Attr(),P.NewAttr("style","z-index: 2000;"))]))]));}},Highlight:{Client:{clearBtn:function(){var Q,R,S,T,U,V;Q=(R=e.Button(g.ofArray([e.Attr().Class("btn btn-large"),(S=e.Attr(),S.NewAttr("style","margin-left: 10px;"))])),(T=e.Text("Clear"),m.add(R,g.ofArray([T]))));U=(V=function(){return function(){return n("#code-textarea").val("");};},function(Y){return o.Events().OnClick(V,Y);});U(Q);return Q;},highlightBtn:function(){var Z,_0,_1,_2,_3;Z=(_0=e.Button(g.ofArray([e.Attr().Class("btn btn-primary btn-large")])),(_1=e.Text("Highlight"),m.add(_0,g.ofArray([_1]))));_2=(_3=function(_4){return function(){var _6,_7,bx;_6=(_7=function(){var _9,_,bc,bd,be,bf,bg,bh,bj,bk;_9=_4["HtmlProvider@32"];((_=_4.Body,function(ba){return function(bb){return _9.SetAttribute(_,ba,bb);};})("disabled"))("disabled");bc=n("#loader");bc.css("visibility","visible");bd=n("#html-textarea");be=n("#html-preview");bd.val("");be.html("");bf=(bg=n("#code-textarea").val(),(bh=function(bi){return $$.String(bi);},bh(bg)));bj=p.Async("Website:0",[bf]);bk=function(bl){var bm,bn,bp,bq,bv;bc.css("visibility","hidden");bm=bl.$==1?(bn=bl.$0,(bd.val(bn).click(function(){return bd.select();}),(be.html(bn),q.Return(null)))):(r("An error occured."),q.Return(null));bp=(bq=function(){var bs,bt;bs=_4["HtmlProvider@32"];(bt=_4.Body,function(bu){return bs.RemoveAttribute(bt,bu);})("disabled");return q.Return(null);},q.Delay(bq));bv=function(){return bp;};return q.Bind(bm,bv);};return q.Bind(bj,bk);},q.Delay(_7));bx=function(by){var bz;bz={$:0};return q.Start(by);};return bx(_6);};},function(bz){return o.Events().OnClick(_3,bz);});_2(Z);return Z;},main:function(){return e.Div(g.ofArray([t.highlightBtn(),t.clearBtn()]));}},Control:$.Class({get_Body:function(){return t.main();}})},Index:{Client:{main:function(){var bA,bB,bC,bE,bF,bG,bI,bJ,bK,bM,bN,bO,bQ,bR,bS,bT,bY,b0;bA=(bB=v.Input(""),(bC=function(bD){return w.WithTextLabel("Id",bD);},bC(bB)));bE=(bF=v.Input(""),(bG=function(bH){return w.WithTextLabel("Title",bH);},bG(bF)));bI=(bJ=v.TextArea(""),(bK=function(bL){return w.WithTextLabel("Description",bL);},bK(bJ)));bM=(bN=v.TextArea(""),(bO=function(bP){return w.WithTextLabel("Code",bP);},bO(bN)));bQ=(bR=(bS=x.$(x.$(x.$(x.$((bT=function(bU){return function(bV){return function(bW){return function(bX){return[bU,bV,bW,bX];};};};},y.Return(bT)),bA),bE),bI),bM),(bY=function(bZ){return w.WithSubmitAndResetButtons(bZ);},bY(bS))),(b0=function(b1){return w.WithFormContainer(b1);},b0(bR)));return y.Run($.Tupled(function(b2){var b3,b4,cb;b3=(b4=function(){var b6,b7,b8,b9,b_,b$;b6=(b7=b2[0],(b8=b2[1],(b9=b2[2],(b_=b2[3],p.Async("Website:3",[b7,b8,b9,b_])))));b$=function(){r("Document indexed.");return q.Return(null);};return q.Bind(b6,b$);},q.Delay(b4));cb=function(cc){var cd;cd={$:0};return q.Start(cc);};return cb(b3);}),bQ);}},Control:$.Class({get_Body:function(){return A.main();}})},InsertSnippet:{Client:{main:function(){var ce,cf,cg,ci,cj,ck,cm,cn,co,cq,cr,cs,cu,cv,cw,cx,cC,cE;ce=(cf=v.Input(""),(cg=function(ch){return w.WithTextLabel("Id",ch);},cg(cf)));ci=(cj=v.Input(""),(ck=function(cl){return w.WithTextLabel("Title",cl);},ck(cj)));cm=(cn=v.TextArea(""),(co=function(cp){return w.WithTextLabel("Description",cp);},co(cn)));cq=(cr=v.Input(""),(cs=function(ct){return w.WithTextLabel("Tags",ct);},cs(cr)));cu=(cv=(cw=x.$(x.$(x.$(x.$((cx=function(cy){return function(cz){return function(cA){return function(cB){return[cy,cz,cA,cB];};};};},y.Return(cx)),ce),ci),cm),cq),(cC=function(cD){return w.WithSubmitAndResetButtons(cD);},cC(cw))),(cE=function(cF){return w.WithFormContainer(cF);},cE(cv)));return y.Run($.Tupled(function(cG){var cH,cI,cR;cH=(cI=function(){var cK,cL,cM,cN,cO,cP;B.Log(cG);cK=(cL=cG[0],(cM=cG[1],(cN=cG[2],(cO=cG[3],p.Async("Website:2",[cL,cM,cN,cO])))));cP=function(cQ){if(cQ){r("New snippet inserted successfully.");return q.Return(null);}else{r("The query failed.");return q.Return(null);}};return q.Bind(cK,cP);},q.Delay(cI));cR=function(cS){var cT;cT={$:0};return q.Start(cS);};return cR(cH);}),cu);}},Control:$.Class({get_Body:function(){return D.main();}})},Login:{Client:{loginForm:function(cU){var cV,cW,cX,cY,cZ,c0,c1,c2,c3,de,df,dg,dh,di,dj,dk,dl,dm,dn;cV=e.Input(g.ofArray([(cW=e.Attr(),cW.NewAttr("type","text")),(cX=f.Attr(),cX.NewAttr("autofocus","autofocus")),(cY=f.Attr(),cY.NewAttr("placeholder","username"))]));cZ=(c0=m.add(e.Button(g.ofArray([(c1=e.Attr(),c1.NewAttr("type","button")),e.Attr().Class("btn"),e.Id("login-btn")])),g.ofArray([e.Text("Submit")])),(c2=(c3=function(){return function(){var c6,c7,da;c6=(c7=function(){var c9,c_;c9=p.Async("Website:1",[{Name:cV.get_Value(),Password:F.passInput().get_Value()}]);c_=function(c$){if(c$.$==1){G.location.href=cU;return q.Return(null);}else{r("Login failed");return q.Return(null);}};return q.Bind(c9,c_);},q.Delay(c7));da=function(db){var dc;dc={$:0};return q.Start(db);};return da(c6);};},function(dd){return o.Events().OnClick(c3,dd);}),(c2(c0),c0)));return e.Form(g.ofArray([(de=g.ofArray([(df=g.ofArray([e.Text("Login")]),(dg=e.Tags(),dg.NewTag("legend",df))),(dh=g.ofArray([e.Text("Username")]),(di=e.Tags(),di.NewTag("label",dh))),cV,(dj=g.ofArray([e.Text("Password")]),(dk=e.Tags(),dk.NewTag("label",dj))),F.passInput()]),(dl=e.Tags(),dl.NewTag("fieldset",de))),(dm=g.ofArray([cZ]),(dn=e.Tags(),dn.NewTag("fieldset",dm)))]));},passInput:$.Field(function(){var _do,dp,dq,dr,ds;_do=e.Input(g.ofArray([(dp=e.Attr(),dp.NewAttr("type","text")),(dq=f.Attr(),dq.NewAttr("placeholder","password"))]));dr=(ds=function(){return function(du){var dv;dv=du.KeyCode;if(dv===13){return n("#login-btn").click();}else{return null;}};},function(dw){return o.Events().OnKeyDown(ds,dw);});dr(_do);return _do;})},Control:$.Class({get_Body:function(){return F.loginForm(this.redirectUrl);}})},Search:{Client:{main:function(){var dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dO,dP,dQ,dR,dS;dx=(dy=f.Tags(),(dz=g.ofArray([(dA=e.Attr(),dA.NewAttr("id","suggestions"))]),dy.NewTag("datalist",dz)));dB=(dC=e.Input(g.ofArray([(dD=f.Attr(),dD.NewAttr("list","suggestions")),(dE=e.Attr(),dE.NewAttr("id","query")),(dF=e.Attr(),dF.NewAttr("type","text")),e.Attr().Class("input-xxlarge search-query"),(dG=f.Attr(),dG.NewAttr("autofocus","autofocus")),(dH=e.Attr(),dH.NewAttr("style","font-size: 30px; height: 40px"))])),(dI=(dJ=function(dK){return function(){var dM;dM=dK.get_Value();if(dM===""){return null;}else{return I.suggest(dK.get_Value(),dx);}};},function(dN){return o.Events().OnKeyUp(dJ,dN);}),(dI(dC),dC)));return m.add(e.Div(g.ofArray([e.Attr().Class("form-search")])),g.ofArray([m.add(e.Div(g.ofArray([e.Attr().Class("input-append")])),g.ofArray([dB,(dO=e.Button(g.ofArray([e.Text("Search"),(dP=e.Attr(),dP.NewAttr("type","button")),e.Attr().Class("btn btn-success"),(dQ=e.Attr(),dQ.NewAttr("style","height: 50px; font-size: 20px;"))])),(dR=(dS=function(){return function(){var dV,dW,dX,dY;dV=(dW=(dX=dB.get_Value(),J.Trim(dX)),(dY=function(dZ){return K(dZ);},dY(dW)));G.location.href="/search/"+dV+"/1";};},function(d0){return o.Events().OnClick(dS,d0);}),(dR(dO),dO)))])),dx]));},suggest:function(d1,d2){var d3,ea;d2.set_Html("");d3=n.getJSON("http://vuzupy.api.indexden.com/v1/indexes/WSSnippets/autocomplete?field=title&query="+d1+"&callback=?",$.Tupled(function(d4){var d5,d6,d7,d8,d9;d5=d4[0];d6=d4[1];d7=d5.suggestions;d8=(d9=function(d_){return n("<option/>").text(d_).appendTo(d2.Body);},function(d$){return L.iter(d9,d$);});return d8(d7);}));ea=function(eb){eb;};return ea(d3);}},Control:$.Class({get_Body:function(){return I.main();}})}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.AddThis);c=$.Safe($$.IntelliFactory.WebSharper);d=$.Safe(c.Html);e=$.Safe(d.Default);f=$.Safe(e.HTML5);g=$.Safe(c.List);h=$.Safe(g.T);i=$.Safe(a.Controls);j=$.Safe(i.Snippet1);k=$.Safe(j.Client);l=$.Safe(a.Forkme);m=$.Safe(d.Operators);n=$.Safe($$.jQuery);o=$.Safe(d.EventsPervasives);p=$.Safe(c.Remoting);q=$.Safe(c.Concurrency);r=$.Safe($$.alert);s=$.Safe(a.Highlight);t=$.Safe(s.Client);u=$.Safe(c.Formlet);v=$.Safe(u.Controls);w=$.Safe(u.Enhance);x=$.Safe(u.Data);y=$.Safe(u.Formlet);z=$.Safe(a.Index);A=$.Safe(z.Client);B=$.Safe(c.JavaScript);C=$.Safe(a.InsertSnippet);D=$.Safe(C.Client);E=$.Safe(a.Login);F=$.Safe(E.Client);G=$.Safe($$.window);H=$.Safe(a.Search);I=$.Safe(H.Client);J=$.Safe(c.Strings);K=$.Safe($$.encodeURIComponent);return L=$.Safe(c.Arrays);});$.OnLoad(function(){F.passInput();});}());
