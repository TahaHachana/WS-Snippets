(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;$.Define($$,{Website:{Controls:{Snippet1:{Control:$.Class({get_Body:function(){return c.main();}}),main:function(){var H,I,J;H=f.Button(g.ofArray([f.Text("Press Me"),f.Attr().Class("btn btn-primary btn-large")]));I=(J=function(){return function(){return h("Hello, world!");};},function(M){return i.Events().OnClick(J,M);});I(H);return H;}},Snippet2:{Control:$.Class({get_Body:function(){return j.main();}}),main:function(){var N,O,P,Q,R,S;N=(O=k.Tags(),(P=g.ofArray([f.Text("Fallback content goes here."),(Q=f.Attr(),Q.NewAttr("style","border: 1px solid"))]),O.NewTag("canvas",P)));R=N.Body;R.height=100;R.width=400;S=R.getContext("2d");S.font="40px sans-serif";S.fillText("Hello Canvas",90,50);return N;}},Snippet3:{Control:$.Class({get_Body:function(){return l.main();}}),main:function(){var T,U,V;T=f.Div(g.ofArray([f.Text("Hello")]));U=(V=function(W){return m.Log(W.get_Text());},function(X){return n.OnAfterRender(V,X);});U(T);return T;}},Snippet4:{Control:$.Class({get_Body:function(){return o.main();}}),main:function(){return q.New4("Button");}}},Forkme:{Control:$.Class({get_Body:function(){return r.main();}}),main:function(){return n.add(f.A(g.ofArray([f.HRef("https://github.com/TahaHachana/WebSharperMVC")])),g.ofArray([f.Img(g.ofArray([f.Src("https://s3.amazonaws.com/github/ribbons/forkme_left_green_007200.png"),f.Alt("Fork me on GitHub"),f.Id("forkme")]))]));}},Highlight:{Client:{clearBtn:function(){var Y,Z,_0,_1,_2,_3;Y=(Z=f.Button(g.ofArray([f.Attr().Class("btn btn-large"),(_0=f.Attr(),_0.NewAttr("style","margin-left: 10px;"))])),(_1=f.Text("Clear"),n.add(Z,g.ofArray([_1]))));_2=(_3=function(){return function(){return s("#code-textarea").val("");};},function(_6){return i.Events().OnClick(_3,_6);});_2(Y);return Y;},highlightBtn:function(){var _7,_8,_9,_,ba;_7=(_8=f.Button(g.ofArray([f.Attr().Class("btn btn-primary btn-large")])),(_9=f.Text("Highlight"),n.add(_8,g.ofArray([_9]))));_=(ba=function(bb){return function(){var bd,be,bF;bd=(be=function(){var bg,bh,bk,bl,bm,bn,bo,bp,br,bs;bg=bb["HtmlProvider@32"];((bh=bb.Body,function(bi){return function(bj){return bg.SetAttribute(bh,bi,bj);};})("disabled"))("disabled");bk=s("#loader");bk.css("visibility","visible");bl=s("#html-textarea");bm=s("#html-preview");bl.val("");bm.html("");bn=(bo=s("#code-textarea").val(),(bp=function(bq){return $$.String(bq);},bp(bo)));br=t.Async("Website:0",[bn]);bs=function(bt){var bu,bv,bx,by,bD;bk.css("visibility","hidden");bu=bt.$==1?(bv=bt.$0,(bl.val(bv).click(function(){return bl.select();}),(bm.html(bv),u.Return(null)))):(h("An error occured."),u.Return(null));bx=(by=function(){var bA,bB;bA=bb["HtmlProvider@32"];(bB=bb.Body,function(bC){return bA.RemoveAttribute(bB,bC);})("disabled");return u.Return(null);},u.Delay(by));bD=function(){return bx;};return u.Bind(bu,bD);};return u.Bind(br,bs);},u.Delay(be));bF=function(bG){var bH;bH={$:0};return u.Start(bG);};return bF(bd);};},function(bH){return i.Events().OnClick(ba,bH);});_(_7);return _7;},main:function(){return f.Div(g.ofArray([w.highlightBtn(),w.clearBtn()]));}},Control:$.Class({get_Body:function(){return w.main();}})},InsertSnippet:{Client:{main:function(){var bI,bJ,bK,bM,bN,bO,bQ,bR,bS,bU,bV,bW,bY,bZ,b0,b1,b6,b8;bI=(bJ=y.Input(""),(bK=function(bL){return z.WithTextLabel("Id",bL);},bK(bJ)));bM=(bN=y.Input(""),(bO=function(bP){return z.WithTextLabel("Title",bP);},bO(bN)));bQ=(bR=y.TextArea(""),(bS=function(bT){return z.WithTextLabel("Description",bT);},bS(bR)));bU=(bV=y.Input(""),(bW=function(bX){return z.WithTextLabel("Tags",bX);},bW(bV)));bY=(bZ=(b0=A.$(A.$(A.$(A.$((b1=function(b2){return function(b3){return function(b4){return function(b5){return[b2,b3,b4,b5];};};};},B.Return(b1)),bI),bM),bQ),bU),(b6=function(b7){return z.WithSubmitAndResetButtons(b7);},b6(b0))),(b8=function(b9){return z.WithFormContainer(b9);},b8(bZ)));return B.Run($.Tupled(function(b_){var b$,ca,cj;b$=(ca=function(){var cc,cd,ce,cf,cg,ch;m.Log(b_);cc=(cd=b_[0],(ce=b_[1],(cf=b_[2],(cg=b_[3],t.Async("Website:2",[cd,ce,cf,cg])))));ch=function(ci){m.Log(ci);if(ci){h("New snippet inserted successfully.");return u.Return(null);}else{h("The query failed.");return u.Return(null);}};return u.Bind(cc,ch);},u.Delay(ca));cj=function(ck){var cl;cl={$:0};return u.Start(ck);};return cj(b$);}),bY);}},Control:$.Class({get_Body:function(){return D.main();}})},Login:{Client:{loginForm:function(cm){var cn,co,cp,cq,cr,cs,ct,cu,cv,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR;cn=f.Input(g.ofArray([(co=f.Attr(),co.NewAttr("type","text")),(cp=k.Attr(),cp.NewAttr("autofocus","autofocus")),(cq=k.Attr(),cq.NewAttr("placeholder","username"))]));cr=(cs=n.add(f.Button(g.ofArray([(ct=f.Attr(),ct.NewAttr("type","button")),f.Attr().Class("btn"),f.Id("login-btn")])),g.ofArray([f.Text("Submit")])),(cu=(cv=function(){return function(){var cy,cz,cE;cy=(cz=function(){var cB,cC;cB=t.Async("Website:1",[{Name:cn.get_Value(),Password:F.passInput().get_Value()}]);cC=function(cD){if(cD.$==1){G.location.href=cm;return u.Return(null);}else{h("Login failed");return u.Return(null);}};return u.Bind(cB,cC);},u.Delay(cz));cE=function(cF){var cG;cG={$:0};return u.Start(cF);};return cE(cy);};},function(cH){return i.Events().OnClick(cv,cH);}),(cu(cs),cs)));return f.Form(g.ofArray([(cI=g.ofArray([(cJ=g.ofArray([f.Text("Login")]),(cK=f.Tags(),cK.NewTag("legend",cJ))),(cL=g.ofArray([f.Text("Username")]),(cM=f.Tags(),cM.NewTag("label",cL))),cn,(cN=g.ofArray([f.Text("Password")]),(cO=f.Tags(),cO.NewTag("label",cN))),F.passInput()]),(cP=f.Tags(),cP.NewTag("fieldset",cI))),(cQ=g.ofArray([cr]),(cR=f.Tags(),cR.NewTag("fieldset",cQ)))]));},passInput:$.Field(function(){var cS,cT,cU,cV,cW;cS=f.Input(g.ofArray([(cT=f.Attr(),cT.NewAttr("type","text")),(cU=k.Attr(),cU.NewAttr("placeholder","password"))]));cV=(cW=function(){return function(cY){var cZ;cZ=cY.KeyCode;if(cZ===13){return s("#login-btn").click();}else{return null;}};},function(c0){return i.Events().OnKeyDown(cW,c0);});cV(cS);return cS;})},Control:$.Class({get_Body:function(){return F.loginForm(this.redirectUrl);}})}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.Controls);c=$.Safe(b.Snippet1);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Html);f=$.Safe(e.Default);g=$.Safe(d.List);h=$.Safe($$.alert);i=$.Safe(e.EventsPervasives);j=$.Safe(b.Snippet2);k=$.Safe(f.HTML5);l=$.Safe(b.Snippet3);m=$.Safe(d.JavaScript);n=$.Safe(e.Operators);o=$.Safe(b.Snippet4);p=$.Safe(d.JQueryUI);q=$.Safe(p.Button);r=$.Safe(a.Forkme);s=$.Safe($$.jQuery);t=$.Safe(d.Remoting);u=$.Safe(d.Concurrency);v=$.Safe(a.Highlight);w=$.Safe(v.Client);x=$.Safe(d.Formlet);y=$.Safe(x.Controls);z=$.Safe(x.Enhance);A=$.Safe(x.Data);B=$.Safe(x.Formlet);C=$.Safe(a.InsertSnippet);D=$.Safe(C.Client);E=$.Safe(a.Login);F=$.Safe(E.Client);return G=$.Safe($$.window);});$.OnLoad(function(){F.passInput();});}());
