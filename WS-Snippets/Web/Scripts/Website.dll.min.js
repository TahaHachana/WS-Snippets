(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;$.Define($$,{Website:{Controls:{Snippet1:{Control:$.Class({get_Body:function(){return c.main();}}),main:function(){return f.Div(g.ofArray([f.Text("Snippet")]));}},Snippet2:{Control:$.Class({get_Body:function(){return h.main();}}),main:function(){var x,y,z,A,B,C,D,E,F,G;x=f.Div(g.ofArray([(y=f.Div(g.ofArray([(z=f.Attr(),z.NewAttr("style","width: 150px; font-size: large; text-align: center; border: 1px solid; margin: 5px;"))])),(A=f.Text("Sortable item 1"),i.add(y,g.ofArray([A])))),(B=f.Div(g.ofArray([(C=f.Attr(),C.NewAttr("style","width: 150px; font-size: large; text-align: center; border: 1px solid; margin: 5px;"))])),(D=f.Text("Sortable item 2"),i.add(B,g.ofArray([D])))),(E=f.Div(g.ofArray([(F=f.Attr(),F.NewAttr("style","width: 150px; font-size: large; text-align: center; border: 1px solid; margin: 5px;"))])),(G=f.Text("Sortable item 3"),i.add(E,g.ofArray([G]))))]));return k.New2(x);}}},Forkme:{Control:$.Class({get_Body:function(){return l.main();}}),main:function(){return i.add(f.A(g.ofArray([f.HRef("https://github.com/TahaHachana/WebSharperMVC")])),g.ofArray([f.Img(g.ofArray([f.Src("https://s3.amazonaws.com/github/ribbons/forkme_left_green_007200.png"),f.Alt("Fork me on GitHub"),f.Id("forkme")]))]));}},Highlight:{Client:{clearBtn:function(){var H,I,J,K,L,M;H=(I=f.Button(g.ofArray([f.Attr().Class("btn btn-large"),(J=f.Attr(),J.NewAttr("style","margin-left: 10px;"))])),(K=f.Text("Clear"),i.add(I,g.ofArray([K]))));L=(M=function(){return function(){return m("#code-textarea").val("");};},function(P){return n.Events().OnClick(M,P);});L(H);return H;},highlightBtn:function(){var Q,R,S,T,U;Q=(R=f.Button(g.ofArray([f.Attr().Class("btn btn-primary btn-large")])),(S=f.Text("Highlight"),i.add(R,g.ofArray([S]))));T=(U=function(V){return function(){var X,Y,bo;X=(Y=function(){var _0,_1,_4,_5,_6,_7,_8,_9,ba,bb;_0=V["HtmlProvider@32"];((_1=V.Body,function(_2){return function(_3){return _0.SetAttribute(_1,_2,_3);};})("disabled"))("disabled");_4=m("#loader");_4.css("visibility","visible");_5=m("#html-textarea");_6=m("#html-preview");_5.val("");_6.html("");_7=(_8=m("#code-textarea").val(),(_9=function(_){return $$.String(_);},_9(_8)));ba=o.Async("Website:0",[_7]);bb=function(bc){var bd,be,bg,bh,bm;_4.css("visibility","hidden");bd=bc.$==1?(be=bc.$0,(_5.val(be).click(function(){return _5.select();}),(_6.html(be),p.Return(null)))):(q("An error occured."),p.Return(null));bg=(bh=function(){var bj,bk;bj=V["HtmlProvider@32"];(bk=V.Body,function(bl){return bj.RemoveAttribute(bk,bl);})("disabled");return p.Return(null);},p.Delay(bh));bm=function(){return bg;};return p.Bind(bd,bm);};return p.Bind(ba,bb);},p.Delay(Y));bo=function(bp){var bq;bq={$:0};return p.Start(bp);};return bo(X);};},function(bq){return n.Events().OnClick(U,bq);});T(Q);return Q;},main:function(){return f.Div(g.ofArray([s.highlightBtn(),s.clearBtn()]));}},Control:$.Class({get_Body:function(){return s.main();}})},Login:{Client:{loginForm:function(br){var bs,bt,bu,bv,bw,bx,by,bz,bA,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW;bs=f.Input(g.ofArray([(bt=f.Attr(),bt.NewAttr("type","text")),(bu=t.Attr(),bu.NewAttr("autofocus","autofocus")),(bv=t.Attr(),bv.NewAttr("placeholder","username"))]));bw=(bx=i.add(f.Button(g.ofArray([(by=f.Attr(),by.NewAttr("type","button")),f.Attr().Class("btn"),f.Id("login-btn")])),g.ofArray([f.Text("Submit")])),(bz=(bA=function(){return function(){var bD,bE,bJ;bD=(bE=function(){var bG,bH;bG=o.Async("Website:1",[{Name:bs.get_Value(),Password:v.passInput().get_Value()}]);bH=function(bI){if(bI.$==1){w.location.href=br;return p.Return(null);}else{q("Login failed");return p.Return(null);}};return p.Bind(bG,bH);},p.Delay(bE));bJ=function(bK){var bL;bL={$:0};return p.Start(bK);};return bJ(bD);};},function(bM){return n.Events().OnClick(bA,bM);}),(bz(bx),bx)));return f.Form(g.ofArray([(bN=g.ofArray([(bO=g.ofArray([f.Text("Login")]),(bP=f.Tags(),bP.NewTag("legend",bO))),(bQ=g.ofArray([f.Text("Username")]),(bR=f.Tags(),bR.NewTag("label",bQ))),bs,(bS=g.ofArray([f.Text("Password")]),(bT=f.Tags(),bT.NewTag("label",bS))),v.passInput()]),(bU=f.Tags(),bU.NewTag("fieldset",bN))),(bV=g.ofArray([bw]),(bW=f.Tags(),bW.NewTag("fieldset",bV)))]));},passInput:$.Field(function(){var bX,bY,bZ,b0,b1;bX=f.Input(g.ofArray([(bY=f.Attr(),bY.NewAttr("type","text")),(bZ=t.Attr(),bZ.NewAttr("placeholder","password"))]));b0=(b1=function(){return function(b3){var b4;b4=b3.KeyCode;if(b4===13){return m("#login-btn").click();}else{return null;}};},function(b5){return n.Events().OnKeyDown(b1,b5);});b0(bX);return bX;})},Control:$.Class({get_Body:function(){return v.loginForm(this.redirectUrl);}})}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.Controls);c=$.Safe(b.Snippet1);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Html);f=$.Safe(e.Default);g=$.Safe(d.List);h=$.Safe(b.Snippet2);i=$.Safe(e.Operators);j=$.Safe(d.JQueryUI);k=$.Safe(j.Sortable);l=$.Safe(a.Forkme);m=$.Safe($$.jQuery);n=$.Safe(e.EventsPervasives);o=$.Safe(d.Remoting);p=$.Safe(d.Concurrency);q=$.Safe($$.alert);r=$.Safe(a.Highlight);s=$.Safe(r.Client);t=$.Safe(f.HTML5);u=$.Safe(a.Login);v=$.Safe(u.Client);return w=$.Safe($$.window);});$.OnLoad(function(){v.passInput();});}());
