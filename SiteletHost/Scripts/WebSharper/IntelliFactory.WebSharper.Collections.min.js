(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;$.Define($$,{IntelliFactory:{WebSharper:{Collections:{BalancedTree:{Add:function(A,B){return c.Put(function(){return function(D){return D;};},A,B);},Branch:function(E,F,G){return{Node:E,Left:F,Right:G,Height:1+d.Max(F==null?0:F.Height,G==null?0:G.Height),Count:1+(F==null?0:F.Count)+(G==null?0:G.Count)};},Build:function(H,I,J){var K;if(J-I+1<=0){return null;}else{K=(I+J)/2>>0;return c.Branch(H[K],c.Build(H,I,K-1),c.Build(H,K+1,J));}},Contains:function(L,M){return!((c.Lookup(L,M))[0]==null);},Enumerate:function(N,O){var P;P=$.Tupled(function(Q){var R,S;R=Q[0];S=Q[1];return R==null?S.$==1?{$:1,$0:[S.$0[0],[S.$0[1],S.$1]]}:{$:0}:N?P([R.Right,$.New(g,{$:1,$0:[R.Node,R.Left],$1:S})]):P([R.Left,$.New(g,{$:1,$0:[R.Node,R.Right],$1:S})]);});return e.unfold(P,[O,$.New(g,{$:0})]);},Lookup:function(T,U){var V,W,X,Y;V=[];W=U;X=true;while(X){if(W==null){X=false;}else{Y=d.Compare(T,W.Node);if(Y===0){X=false;}else{if(Y===1){V.unshift([true,W.Node,W.Left]);W=W.Right;}else{V.unshift([false,W.Node,W.Right]);W=W.Left;}}}}return[W,V];},OfSeq:function(Z){var _0;_0=h.sort(e.toArray(e.distinct(Z)));return c.Build(_0,0,_0.length-1);},Put:function(_1,_2,_3){var _4,_5,_6;_4=c.Lookup(_2,_3);_5=_4[0];_6=_4[1];return _5==null?c.Rebuild(_6,c.Branch(_2,null,null)):c.Rebuild(_6,c.Branch((_1(_5.Node))(_2),_5.Left,_5.Right));},Rebuild:function(_7,_8){var _9,ba,bb,bc,bd,be,bf,bg,bh,bi,bj;_9=function(_){return _==null?0:_.Height;};ba=_8;for(bb=0;bb<=i.GetLength(_7)-1;bb++){bc=_7[bb];if(bc[0]){be=bc[1];bf=bc[2];if(_9(ba)>_9(bf)+1){if(_9(ba.Left)===_9(ba.Right)+1){bg=ba.Left;bd=c.Branch(bg.Node,c.Branch(be,bf,bg.Left),c.Branch(ba.Node,bg.Right,ba.Right));}else{bd=c.Branch(ba.Node,c.Branch(be,bf,ba.Left),ba.Right);}}else{bd=c.Branch(be,bf,ba);}}else{bh=bc[1];bi=bc[2];if(_9(ba)>_9(bi)+1){if(_9(ba.Right)===_9(ba.Left)+1){bj=ba.Right;bd=c.Branch(bj.Node,c.Branch(ba.Node,ba.Left,bj.Left),c.Branch(bh,bj.Right,bi));}else{bd=c.Branch(ba.Node,ba.Left,c.Branch(bh,ba.Right,bi));}}else{bd=c.Branch(bh,ba,bi);}}ba=bd;}return ba;},Remove:function(bj,bk){var bl,bm,bn,bo;bl=c.Lookup(bj,bk);bm=bl[0];bn=bl[1];if(bm==null){return bk;}else{if(bm.Right==null){return c.Rebuild(bn,bm.Left);}else{if(bm.Left==null){return c.Rebuild(bn,bm.Right);}else{bo=e.toArray(e.append(c.Enumerate(false,bm.Left),c.Enumerate(false,bm.Right)));return c.Rebuild(bn,c.Build(bo,0,bo.length-1));}}}},TryFind:function(bp,bq){var br;br=(c.Lookup(bp,bq))[0];return br==null?{$:0}:{$:1,$0:br.Node};}},Dictionary:$.Class({Add:function(bs,bt){var bu;bu=this.hash.call(null,bs);if(this.data.hasOwnProperty(bu)){return d.FailWith("An item with the same key has already been added.");}else{this.data[bu]={K:bs,V:bt};this.count=this.count+1;return;}},Clear:function(){this.data={};this.count=0;return;},ContainsKey:function(bv){return this.data.hasOwnProperty(this.hash.call(null,bv));},GetEnumerator:function(){return j.Get(h.map($.Tupled(function(bw){return bw[1];}),k.GetFields(this.data)));},Remove:function(bx){var by;by=this.hash.call(null,bx);if(this.data.hasOwnProperty(by)){k.Delete(this.data,by);this.count=this.count-1;return true;}else{return false;}},get_Item:function(bz){var bA;bA=this.hash.call(null,bz);return this.data.hasOwnProperty(bA)?this.data[bA].V:l.notPresent();},set_Item:function(bB,bC){var bD;bD=this.hash.call(null,bB);if(!this.data.hasOwnProperty(bD)){this.count=this.count+1;}this.data[bD]={K:bB,V:bC};return;}},{New:function(bE,bF){return $.New(this,m.New11(bE,function(bG){return function(bH){return bF.Equals(bG,bH);};},function(bI){return bF.GetHashCode(bI);}));},New1:function(bJ,bK){return $.New(this,m.New3(bK));},New11:function(bL,bM,bN){var bO,bP,bQ;bO=$.New(this,{});bO.hash=bN;bO.count=0;bO.data={};bP=j.Get(bL);while(bP.MoveNext()){bQ=bP.get_Current();bO.data[bO.hash.call(null,bQ.K)]=bQ.V;}return bO;},New12:function(){return $.New(this,m.New21());},New2:function(bS){return $.New(this,m.New11(bS,function(bT){return function(bU){return n.Equals(bT,bU);};},function(bV){return n.Hash(bV);}));},New21:function(){return $.New(this,m.New11([],function(bW){return function(bX){return n.Equals(bW,bX);};},function(bY){return n.Hash(bY);}));},New3:function(bZ){return $.New(this,m.New11([],function(b0){return function(b1){return bZ.Equals(b0,b1);};},function(b2){return bZ.GetHashCode(b2);}));}}),DictionaryUtil:{notPresent:function(){return d.FailWith("The given key was not present in the dictionary.");}},FSharpMap:$.Class({Add:function(b3,b4){var b5;b5=this.tree;return o.New1(c.Add($.New(p,{Key:b3,Value:b4}),b5));},CompareTo:function(b6){return e.compareWith(function(b7){return function(b8){return d.Compare(b7,b8);};},this,b6);},ContainsKey:function(b9){var b_;b_=this.tree;return c.Contains($.New(p,{Key:b9,Value:undefined}),b_);},Equals:function(b$){return this.get_Count()===b$.get_Count()?e.forall2(function(ca){return function(cb){return n.Equals(ca,cb);};},this,b$):false;},GetEnumerator:function(){return j.Get(e.map(function(cc){return{K:cc.Key,V:cc.Value};},c.Enumerate(false,this.tree)));},GetHashCode:function(){return n.Hash(e.toArray(this));},Remove:function(cd){var ce;ce=this.tree;return o.New1(c.Remove($.New(p,{Key:cd,Value:undefined}),ce));},TryFind:function(cf){var cg;cg=this.tree;return q.map(function(ch){return ch.Value;},c.TryFind($.New(p,{Key:cf,Value:undefined}),cg));},get_Count:function(){var ci;ci=this.tree;return ci==null?0:ci.Count;},get_IsEmpty:function(){return this.tree==null;},get_Item:function(cj){var ck;ck=this.TryFind(cj);return ck.$==0?d.FailWith("The given key was not present in the dictionary."):ck.$0;},get_Tree:function(){return this.tree;}},{New:function(cl){return $.New(this,o.New1(r.fromSeq(cl)));},New1:function(cm){var cn;cn=$.New(this,{});cn.tree=cm;return cn;}}),FSharpSet:$.Class({Add:function(co){return s.New1(c.Add(co,this.tree));},CompareTo:function(cp){return e.compareWith(function(cq){return function(cr){return d.Compare(cq,cr);};},this,cp);},Contains:function(cs){return c.Contains(cs,this.tree);},Equals:function(ct){return this.get_Count()===ct.get_Count()?e.forall2(function(cu){return function(cv){return n.Equals(cu,cv);};},this,ct):false;},GetEnumerator:function(){return j.Get(c.Enumerate(false,this.tree));},GetHashCode:function(){return-1741749453+n.Hash(e.toArray(this));},IsProperSubsetOf:function(cw){return this.IsSubsetOf(cw)?this.get_Count()<cw.get_Count():false;},IsProperSupersetOf:function(cx){return this.IsSupersetOf(cx)?this.get_Count()>cx.get_Count():false;},IsSubsetOf:function(cy){return e.forall(function(cz){return cy.Contains(cz);},this);},IsSupersetOf:function(cA){var cC=this;return e.forall(function(cB){return cC.Contains(cB);},cA);},Remove:function(cD){return s.New1(c.Remove(cD,this.tree));},add:function(cE){return s.New1(c.OfSeq(e.append(this,cE)));},get_Count:function(){var cF;cF=this.tree;return cF==null?0:cF.Count;},get_IsEmpty:function(){return this.tree==null;},get_MaximumElement:function(){return e.head(c.Enumerate(true,this.tree));},get_MinimumElement:function(){return e.head(c.Enumerate(false,this.tree));},get_Tree:function(){return this.tree;},sub:function(cG){return t.Filter(function(cH){return!cG.Contains(cH);},this);}},{New:function(cI){return $.New(this,s.New1(u.ofSeq(cI)));},New1:function(cJ){var cK;cK=$.New(this,{});cK.tree=cJ;return cK;}}),LinkedList:{EnumeratorProxy:$.Class({Dispose:function(){return null;},MoveNext:function(){this.c=this.c.n;return!n.Equals(this.c,null);},get_Current:function(){return this.c.v;}},{New:function(cL){var cM;cM=$.New(this,{});cM.c=cL;return cM;}}),ListProxy:$.Class({AddAfter:function(cN,cO){var cP,cQ;cP=cN.n;cQ={p:cN,n:cP,v:cO};if(n.Equals(cN.n,null)){this.p=cQ;}cN.n=cQ;if(!n.Equals(cP,null)){cP.p=cQ;}this.c=this.c+1;return cQ;},AddBefore:function(cR,cS){var cT,cU;cT=cR.p;cU={p:cT,n:cR,v:cS};if(n.Equals(cR.p,null)){this.n=cU;}cR.p=cU;if(!n.Equals(cT,null)){cT.n=cU;}this.c=this.c+1;return cU;},AddFirst:function(cV){var cW;if(this.c===0){cW={p:null,n:null,v:cV};this.n=cW;this.p=this.n;this.c=1;return cW;}else{return this.AddBefore(this.n,cV);}},AddLast:function(cX){var cY;if(this.c===0){cY={p:null,n:null,v:cX};this.n=cY;this.p=this.n;this.c=1;return cY;}else{return this.AddAfter(this.p,cX);}},Clear:function(){this.c=0;this.n=null;this.p=null;return;},Contains:function(cZ){var c0,c1;c0=false;c1=this.n;while(!n.Equals(c1,null)?!c0:false){if(c1.v==cZ){c0=true;}else{c1=c1.n;}}return c0;},Find:function(c2){var c3,c4;c3=this.n;c4=true;while(c4?!n.Equals(c3,null):false){if(c3.v==c2){c4=false;}else{c3=c3.n;}}return c4?null:c3;},FindLast:function(c5){var c6,c7;c6=this.p;c7=true;while(c7?!n.Equals(c6,null):false){if(c6.v==c5){c7=false;}else{c6=c6.p;}}return c7?null:c6;},GetEnumerator:function(){return w.New(this);},Remove:function(c8){var c9,c_;c9=c8.p;c_=c8.n;if(n.Equals(c9,null)){this.n=c_;}else{c9.n=c_;}if(n.Equals(c_,null)){this.p=c9;}else{c_.p=c9;}this.c=this.c-1;return;},Remove1:function(c$){var da;da=this.Find(c$);if(n.Equals(da,null)){return false;}else{this.Remove(da);return true;}},RemoveFirst:function(){return this.Remove(this.n);},RemoveLast:function(){return this.Remove(this.p);},get_Count:function(){return this.c;},get_First:function(){return this.n;},get_Last:function(){return this.p;}},{New:function(){return $.New(this,x.New1(e.empty()));},New1:function(db){var dc,dd,de;dc=$.New(this,{});dc.c=0;dc.n=null;dc.p=null;dd=j.Get(db);if(dd.MoveNext()){dc.n={p:null,n:null,v:dd.get_Current()};dc.p=dc.n;dc.c=1;}while(dd.MoveNext()){de={p:dc.p,n:null,v:dd.get_Current()};dc.p.n=de;dc.p=de;dc.c=dc.c+1;}return dc;}})},MapModule:{Exists:function(df,dg){return e.exists(function(dh){return(df(dh.K))(dh.V);},dg);},Filter:function(di,dj){var dk;dk=e.toArray(e.filter(function(dl){return(di(dl.Key))(dl.Value);},c.Enumerate(false,dj.get_Tree())));return o.New1(c.Build(dk,0,dk.length-1));},FindKey:function(dm,dn){return e.pick(function(_do){return(dm(_do.K))(_do.V)?{$:1,$0:_do.K}:{$:0};},dn);},Fold:function(dp,dq,dr){return e.fold(function(ds){return function(dt){return((dp(ds))(dt.Key))(dt.Value);};},dq,c.Enumerate(false,dr.get_Tree()));},FoldBack:function(du,dv,dw){return e.fold(function(dx){return function(dy){return((du(dy.Key))(dy.Value))(dx);};},dw,c.Enumerate(true,dv.get_Tree()));},ForAll:function(dz,dA){return e.forall(function(dB){return(dz(dB.K))(dB.V);},dA);},Iterate:function(dC,dD){return e.iter(function(dE){return(dC(dE.K))(dE.V);},dD);},Map:function(dF,dG){return o.New1(c.OfSeq(e.map(function(dH){return $.New(p,{Key:dH.Key,Value:(dF(dH.Key))(dH.Value)});},c.Enumerate(false,dG.get_Tree()))));},OfArray:function(dI){return o.New1(c.OfSeq(e.map($.Tupled(function(dJ){return $.New(p,{Key:dJ[0],Value:dJ[1]});}),dI)));},Partition:function(dK,dL){var dM,dO,dP;dM=h.partition(function(dN){return(dK(dN.Key))(dN.Value);},e.toArray(c.Enumerate(false,dL.get_Tree())));dO=dM[1];dP=dM[0];return[o.New1(c.Build(dP,0,dP.length-1)),o.New1(c.Build(dO,0,dO.length-1))];},Pick:function(dQ,dR){return e.pick(function(dS){return(dQ(dS.K))(dS.V);},dR);},ToSeq:function(dT){return e.map(function(dU){return[dU.Key,dU.Value];},c.Enumerate(false,dT.get_Tree()));},TryFind:function(dV,dW){return dW.TryFind(dV);},TryFindKey:function(dX,dY){return e.tryPick(function(dZ){return(dX(dZ.K))(dZ.V)?{$:1,$0:dZ.K}:{$:0};},dY);},TryPick:function(d0,d1){return e.tryPick(function(d2){return(d0(d2.K))(d2.V);},d1);}},MapUtil:{fromSeq:function(d3){var d4;d4=e.toArray(e.delay(function(){return e.collect($.Tupled(function(d6){return[$.New(p,{Key:d6[0],Value:d6[1]})];}),e.distinctBy($.Tupled(function(d7){return d7[0];}),d3));}));h.sortInPlace(d4);return c.Build(d4,0,d4.length-1);}},Pair:$.Class({CompareTo:function(d8){return d.Compare(this.Key,d8.Key);},Equals:function(d9){return n.Equals(this.Key,d9.Key);},GetHashCode:function(){return n.Hash(this.Key);}}),ResizeArray:{ResizeArrayProxy:$.Class({Add:function(d_){return this.arr.push(d_);},AddRange:function(d$){var eb=this;return e.iter(function(ea){return eb.Add(ea);},d$);},Clear:function(){y.splice(this.arr,0,i.GetLength(this.arr),[]);},CopyTo:function(ec){return this.CopyTo1(ec,0);},CopyTo1:function(ed,ee){return this.CopyTo2(0,ed,ee,this.get_Count());},CopyTo2:function(ef,eg,eh,ei){return h.blit(this.arr,ef,eg,eh,ei);},GetEnumerator:function(){return j.Get(this.arr);},GetRange:function(ej,ek){return z.New3(h.sub(this.arr,ej,ek));},Insert:function(el,em){y.splice(this.arr,el,0,[em]);},InsertRange:function(en,eo){y.splice(this.arr,en,0,e.toArray(eo));},RemoveAt:function(ep){y.splice(this.arr,ep,1,[]);},RemoveRange:function(eq,er){y.splice(this.arr,eq,er,[]);},Reverse:function(){return this.arr.reverse();},Reverse1:function(es,et){return h.reverse(this.arr,es,et);},ToArray:function(){return this.arr.slice();},get_Count:function(){return i.GetLength(this.arr);},get_Item:function(eu){return this.arr[eu];},set_Item:function(ev,ew){this.arr[ev]=ew;}},{New:function(ex){return $.New(this,z.New3(e.toArray(ex)));},New1:function(){return $.New(this,z.New3([]));},New2:function(){return $.New(this,z.New3([]));},New3:function(ez){var eA;eA=$.New(this,{});eA.arr=ez;return eA;}}),splice:function($arr,$index,$howMany,$items){var $0=this,$this=this;return $$.Array.prototype.splice.apply($arr,[$index,$howMany].concat($items));}},SetModule:{Filter:function(eB,eC){var eD;eD=e.toArray(e.filter(eB,eC));return s.New1(c.Build(eD,0,eD.length-1));},FoldBack:function(eE,eF,eG){return e.fold(function(eH){return function(eI){return(eE(eI))(eH);};},eG,c.Enumerate(true,eF.get_Tree()));},Partition:function(eJ,eK){var eL,eM;eL=h.partition(eJ,e.toArray(eK));eM=eL[1];return[s.New1(c.OfSeq(eL[0])),s.New1(c.OfSeq(eM))];}},SetUtil:{ofSeq:function(eN){var eO;eO=e.toArray(eN);h.sortInPlace(eO);return c.Build(eO,0,eO.length-1);}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Collections);c=$.Safe(b.BalancedTree);d=$.Safe(a.Operators);e=$.Safe(a.Seq);f=$.Safe(a.List);g=$.Safe(f.T);h=$.Safe(a.Arrays);i=$.Safe(a.IntrinsicFunctionProxy);j=$.Safe(a.Enumerator);k=$.Safe(a.JavaScript);l=$.Safe(b.DictionaryUtil);m=$.Safe(b.Dictionary);n=$.Safe(a.Unchecked);o=$.Safe(b.FSharpMap);p=$.Safe(b.Pair);q=$.Safe(a.Option);r=$.Safe(b.MapUtil);s=$.Safe(b.FSharpSet);t=$.Safe(b.SetModule);u=$.Safe(b.SetUtil);v=$.Safe(b.LinkedList);w=$.Safe(v.EnumeratorProxy);x=$.Safe(v.ListProxy);y=$.Safe(b.ResizeArray);return z=$.Safe(y.ResizeArrayProxy);});$.OnLoad(function(){return;});}());
