(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;$.Define($$,{Website:{Controls:{Snippet1:{Control:$.Class({get_Body:function(){return c.main();}}),main:function(){return f.Div(g.ofArray([f.Text("Snippet")]));}},Snippet2:{Control:$.Class({get_Body:function(){return h.main();}}),main:function(){var F,G,H,I,J,K,L,M,N,O;F=f.Div(g.ofArray([(G=f.Div(g.ofArray([(H=f.Attr(),H.NewAttr("style","width: 150px; font-size: large; text-align: center; border: 1px solid; margin: 5px;"))])),(I=f.Text("Sortable item 1"),i.add(G,g.ofArray([I])))),(J=f.Div(g.ofArray([(K=f.Attr(),K.NewAttr("style","width: 150px; font-size: large; text-align: center; border: 1px solid; margin: 5px;"))])),(L=f.Text("Sortable item 2"),i.add(J,g.ofArray([L])))),(M=f.Div(g.ofArray([(N=f.Attr(),N.NewAttr("style","width: 150px; font-size: large; text-align: center; border: 1px solid; margin: 5px;"))])),(O=f.Text("Sortable item 3"),i.add(M,g.ofArray([O]))))]));return k.New2(F);}}},Forkme:{Control:$.Class({get_Body:function(){return l.main();}}),main:function(){return i.add(f.A(g.ofArray([f.HRef("https://github.com/TahaHachana/WebSharperMVC")])),g.ofArray([f.Img(g.ofArray([f.Src("https://s3.amazonaws.com/github/ribbons/forkme_left_green_007200.png"),f.Alt("Fork me on GitHub"),f.Id("forkme")]))]));}},Highlight:{Client:{clearBtn:function(){var P,Q,R,S,T,U;P=(Q=f.Button(g.ofArray([f.Attr().Class("btn btn-large"),(R=f.Attr(),R.NewAttr("style","margin-left: 10px;"))])),(S=f.Text("Clear"),i.add(Q,g.ofArray([S]))));T=(U=function(){return function(){return m("#code-textarea").val("");};},function(X){return n.Events().OnClick(U,X);});T(P);return P;},highlightBtn:function(){var Y,Z,_0,_1,_2;Y=(Z=f.Button(g.ofArray([f.Attr().Class("btn btn-primary btn-large")])),(_0=f.Text("Highlight"),i.add(Z,g.ofArray([_0]))));_1=(_2=function(_3){return function(){var _5,_6,bw;_5=(_6=function(){var _8,_9,bb,bc,bd,be,bf,bg,bi,bj;_8=_3["HtmlProvider@32"];((_9=_3.Body,function(_){return function(ba){return _8.SetAttribute(_9,_,ba);};})("disabled"))("disabled");bb=m("#loader");bb.css("visibility","visible");bc=m("#html-textarea");bd=m("#html-preview");bc.val("");bd.html("");be=(bf=m("#code-textarea").val(),(bg=function(bh){return $$.String(bh);},bg(bf)));bi=o.Async("Website:0",[be]);bj=function(bk){var bl,bm,bo,bp,bu;bb.css("visibility","hidden");bl=bk.$==1?(bm=bk.$0,(bc.val(bm).click(function(){return bc.select();}),(bd.html(bm),p.Return(null)))):(q("An error occured."),p.Return(null));bo=(bp=function(){var br,bs;br=_3["HtmlProvider@32"];(bs=_3.Body,function(bt){return br.RemoveAttribute(bs,bt);})("disabled");return p.Return(null);},p.Delay(bp));bu=function(){return bo;};return p.Bind(bl,bu);};return p.Bind(bi,bj);},p.Delay(_6));bw=function(bx){var by;by={$:0};return p.Start(bx);};return bw(_5);};},function(by){return n.Events().OnClick(_2,by);});_1(Y);return Y;},main:function(){return f.Div(g.ofArray([s.highlightBtn(),s.clearBtn()]));}},Control:$.Class({get_Body:function(){return s.main();}})},InsertSnippet:{Client:{main:function(){var bz,bA,bB,bD,bE,bF,bH,bI,bJ,bL,bM,bN,bP,bQ,bR,bS,bX,bZ;bz=(bA=u.Input(""),(bB=function(bC){return v.WithTextLabel("Id",bC);},bB(bA)));bD=(bE=u.Input(""),(bF=function(bG){return v.WithTextLabel("Title",bG);},bF(bE)));bH=(bI=u.TextArea(""),(bJ=function(bK){return v.WithTextLabel("Description",bK);},bJ(bI)));bL=(bM=u.Input(""),(bN=function(bO){return v.WithTextLabel("Tags",bO);},bN(bM)));bP=(bQ=(bR=w.$(w.$(w.$(w.$((bS=function(bT){return function(bU){return function(bV){return function(bW){return[bT,bU,bV,bW];};};};},x.Return(bS)),bz),bD),bH),bL),(bX=function(bY){return v.WithSubmitAndResetButtons(bY);},bX(bR))),(bZ=function(b0){return v.WithFormContainer(b0);},bZ(bQ)));return x.Run($.Tupled(function(b1){var b2,b3,ca;b2=(b3=function(){var b5,b6,b7,b8,b9,b_;y.Log(b1);b5=(b6=b1[0],(b7=b1[1],(b8=b1[2],(b9=b1[3],o.Async("Website:2",[b6,b7,b8,b9])))));b_=function(b$){y.Log(b$);if(b$){q("New snippet inserted successfully.");return p.Return(null);}else{q("The query failed.");return p.Return(null);}};return p.Bind(b5,b_);},p.Delay(b3));ca=function(cb){var cc;cc={$:0};return p.Start(cb);};return ca(b2);}),bP);}},Control:$.Class({get_Body:function(){return A.main();}})},Login:{Client:{loginForm:function(cd){var ce,cf,cg,ch,ci,cj,ck,cl,cm,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI;ce=f.Input(g.ofArray([(cf=f.Attr(),cf.NewAttr("type","text")),(cg=B.Attr(),cg.NewAttr("autofocus","autofocus")),(ch=B.Attr(),ch.NewAttr("placeholder","username"))]));ci=(cj=i.add(f.Button(g.ofArray([(ck=f.Attr(),ck.NewAttr("type","button")),f.Attr().Class("btn"),f.Id("login-btn")])),g.ofArray([f.Text("Submit")])),(cl=(cm=function(){return function(){var cp,cq,cv;cp=(cq=function(){var cs,ct;cs=o.Async("Website:1",[{Name:ce.get_Value(),Password:D.passInput().get_Value()}]);ct=function(cu){if(cu.$==1){E.location.href=cd;return p.Return(null);}else{q("Login failed");return p.Return(null);}};return p.Bind(cs,ct);},p.Delay(cq));cv=function(cw){var cx;cx={$:0};return p.Start(cw);};return cv(cp);};},function(cy){return n.Events().OnClick(cm,cy);}),(cl(cj),cj)));return f.Form(g.ofArray([(cz=g.ofArray([(cA=g.ofArray([f.Text("Login")]),(cB=f.Tags(),cB.NewTag("legend",cA))),(cC=g.ofArray([f.Text("Username")]),(cD=f.Tags(),cD.NewTag("label",cC))),ce,(cE=g.ofArray([f.Text("Password")]),(cF=f.Tags(),cF.NewTag("label",cE))),D.passInput()]),(cG=f.Tags(),cG.NewTag("fieldset",cz))),(cH=g.ofArray([ci]),(cI=f.Tags(),cI.NewTag("fieldset",cH)))]));},passInput:$.Field(function(){var cJ,cK,cL,cM,cN;cJ=f.Input(g.ofArray([(cK=f.Attr(),cK.NewAttr("type","text")),(cL=B.Attr(),cL.NewAttr("placeholder","password"))]));cM=(cN=function(){return function(cP){var cQ;cQ=cP.KeyCode;if(cQ===13){return m("#login-btn").click();}else{return null;}};},function(cR){return n.Events().OnKeyDown(cN,cR);});cM(cJ);return cJ;})},Control:$.Class({get_Body:function(){return D.loginForm(this.redirectUrl);}})}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.Controls);c=$.Safe(b.Snippet1);d=$.Safe($$.IntelliFactory.WebSharper);e=$.Safe(d.Html);f=$.Safe(e.Default);g=$.Safe(d.List);h=$.Safe(b.Snippet2);i=$.Safe(e.Operators);j=$.Safe(d.JQueryUI);k=$.Safe(j.Sortable);l=$.Safe(a.Forkme);m=$.Safe($$.jQuery);n=$.Safe(e.EventsPervasives);o=$.Safe(d.Remoting);p=$.Safe(d.Concurrency);q=$.Safe($$.alert);r=$.Safe(a.Highlight);s=$.Safe(r.Client);t=$.Safe(d.Formlet);u=$.Safe(t.Controls);v=$.Safe(t.Enhance);w=$.Safe(t.Data);x=$.Safe(t.Formlet);y=$.Safe(d.JavaScript);z=$.Safe(a.InsertSnippet);A=$.Safe(z.Client);B=$.Safe(f.HTML5);C=$.Safe(a.Login);D=$.Safe(C.Client);return E=$.Safe($$.window);});$.OnLoad(function(){D.passInput();});}());
